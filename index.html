<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
    <title>UHD device support for kalibrate GSM clock offset calculator</title>
  </head>
  <body>
<p>
<h3>UHD device support for kalibrate GSM clock offset calculator</h3>
<pre>
Main project site and general instructions:
<a href="http://thre.at/kalibrate">http://thre.at/kalibrate</a>

Universal Hardware Driver (UHD):
<a href="http://ettus-apps.sourcerepo.com/redmine/ettus/projects/uhd/wiki">http://ettus-apps.sourcerepo.com/redmine/ettus/projects/uhd/wiki</a>

OpenBTS Clock Wiki:
<a href="http://gnuradio.org/redmine/wiki/1/OpenBTSClocks">http://gnuradio.org/redmine/wiki/1/OpenBTSClocks</a>
</pre>

<h4>Release Notes</h4>
<pre>
*The USRP2 is clocked at 100MHz and does not output fractional sample rates.
*There is no overrun checking.
*Only the USRP2 is tested at this time.
</pre>

<h4>Download</h4>
<pre>
Clone with Git:
git clone git://github.com/ttsou/kalibrate-uhd.git
git clone http://github.com/ttsou/kalibrate-uhd.git

Tarball:
<a href="http://github.com/ttsou/kalibrate-uhd/tarball/master">http://github.com/ttsou/kalibrate-uhd/tarball/master</a>

GitHub:
<a href="http://github.com/ttsou/kalibrate-uhd">http://github.com/ttsou/kalibrate-uhd</a>
</pre>

<h4>Build</h4>
<pre>
./bootstrap
./configure
make
</pre>

<h4>Examples</h4>
<pre>
USRP2 with internal reference:

(uhd) [ttsou@fischer src]$ ./kal -f 1941.6e6
linux; GNU C++ version 4.4.4 20100630 (Red Hat 4.4.4-10); Boost_104100; UHD_20101116.195923.c5043c6

Current recv sock buff size: 50000000 bytes

Warning:
    The hardware does not support the requested RX sample rate:
    Target sample rate: 0.270833 MSps
    Actual sample rate: 0.271739 MSps

kal: Calculating clock frequency offset.
Using PCS-1900 channel 569 (1941.6MHz)
average         [min, max]      (range, stddev)
+ 22.221kHz     [21574, 22791]  (1217, 352.328674)
overruns: 0
not found: 0



USRP2 with external 10MHz reference - Agilent E4438C (OCXO):

(uhd) [ttsou@fischer src]$ ./kal -f 1941.6e6 -x
linux; GNU C++ version 4.4.4 20100630 (Red Hat 4.4.4-10); Boost_104100; UHD_20101116.195923.c5043c6

Current recv sock buff size: 50000000 bytes

Warning:
    The hardware does not support the requested RX sample rate:
    Target sample rate: 0.270833 MSps
    Actual sample rate: 0.271739 MSps

kal: Calculating clock frequency offset.
Using PCS-1900 channel 569 (1941.6MHz)
average         [min, max]      (range, stddev)
+  13Hz         [-32, 86]       (118, 34.811478)
overruns: 0
not found: 0
</pre>
</p>
  </body>

</html>
